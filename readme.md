# repo-config
A command-line tool to manage repository configurations by collecting and deleting configuration files.

## Overview
repo-config is a CLI tool designed to streamline the management of repository configuration files. It allows you to collect configuration settings from a JSON file and generate corresponding output files. Additionally, it provides functionality to delete these output files when they are no longer needed.

The output files generated by the collect command are stored in the ~/.repo-config/<git project> directory.
The names of the output files are derived from the input JSON file name.
For example, if your input file is config.json and the git project is "repo-config" the output files will be:
~/.repo-config/repo-config/.config-values.json
~/.repo-config/repo-config/.config-values.env
Ensure that you have the necessary permissions to read and write files in the home directory.

## Installation
To install repo-config, ensure you have Go installed on your system. Build the executable by running:

``` bash
Copy code
git clone https://github.com/joelong01/repo-config.git
cd repo-config
go build -o repo-config
```
Alternatively, you can install it directly using go install:

``` bash
go install github.com/joelong01/repo-config@latest
```
Make sure that your $GOPATH/bin directory is in your system's PATH so that you can run the 
repo-config command from anywhere.

# Usage
The repo-config tool provides two main commands:
``` 
collect: Collect repository configurations and generate output files.
delete: Delete generated output files.
Collect Command
Description
The collect command reads a JSON configuration file and generates corresponding output files containing the collected configuration values. It can run in interactive or silent mode.
```
Syntax
``` bash
repo-config collect --json <path_to_config.json> [--silent]
Options
--json, -j: (Required) Path to the JSON configuration file containing the configuration items.
--silent, -s: (Optional) Run the command in silent mode. In silent mode, the command operates without interactive prompts and uses default values or existing configuration where possible.
```
## Example

# Interactive mode
```
repo-config collect --json config.json
```
# Silent mode
``` 
repo-config collect --json config.json --silent
```

# Delete Command

The delete command deletes the output files generated by the collect command, such as the .env and .json files derived from the input configuration file. It can run in interactive or silent mode.

Syntax
``` 
repo-config delete --json <path_to_config.json> [--silent]
Options
--json, -j: (Required) Path to the JSON configuration file used to determine which output files to delete.
--silent, -s: (Optional) Run the command in silent mode. In silent mode, the command deletes the output files without prompting for confirmation.
``` 
# Example

## Interactive mode
```
repo-config delete --json config.json
```
# Silent mode
```
repo-config delete --json config.json --silent
```
Configuration JSON File Format
The input JSON configuration file should be structured as a JSON object where each key represents a configuration item. Each configuration item is an object with the following properties:
``` json
description: (Required) A description of the configuration item.
default: (Optional) The default value for the configuration item.
shellscript: (Optional) A shell script to execute for retrieving the value.
tempEnvironmentVariableName: (Optional) The name of a temporary environment variable to set.
requiredAsEnv: (Optional) A boolean indicating whether the configuration item is required as an environment variable.
```
Example config.json:
``` json
{
    "DATABASE_URL": {
        "description": "The URL of the database",
        "default": "",
        "tempEnvironmentVariableName": "DATABASE_URL",
        "requiredAsEnv": true
    },
    "API_KEY": {
        "description": "API key for external service",
        "default": "",
        "tempEnvironmentVariableName": "API_KEY",
        "requiredAsEnv": true
    }
}
```


License
This project is licensed under the MIT License - see the LICENSE file for details.

Contributing
Contributions are welcome! Please submit a pull request or open an issue to discuss improvements or new features.

Contact
For questions or support, please contact your.email@example.com or open an issue on the GitHub repository.